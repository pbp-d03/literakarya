{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
    h1 {
        padding-left: 50px;
        padding-right: 50px;
        padding-top: 50px;

    }
    #reminder {
        padding-left: 50px;
    }
    form {
        margin: 0 auto;
        max-width: 960px;
        padding-left: 50px;
        padding-right: 50px;
    }
    #post {
        text-align: right;
        padding-top: 25px;
    }
    .createFormButton {
      text-align: center;
    }
    #not-login {
      text-align: center;
    }
    #topik-list {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-image: url('../static/img/caret-down-fill.svg');
      background-size: 15px;
      background-repeat: no-repeat;
      background-position: right center;
    }
</style>

<div class="jumbotron">
    <h1 class="display-4">Dibawa Santai Aja...</h1>
    <p class="lead" id="reminder">Ingat {{user}}, kalau penulis favoritmu itu tidak akan membantumu mengejakan TP SDA, maka tidak usah terlalu dibela &#128077;</p>
</div>

{% comment %} form hanya akan muncul jika user sudah login {% endcomment %}

{% if request.user.is_authenticated %}
<div class="createFormButton">
  <button type="button" class="btn btn-primary" data-bs-toggle="collapse" data-bs-target="#collapsibleForm">Buat Topik Diskusi Baru</button>
</div>

<div class="collapse" id="collapsibleForm">
  <form>
    <div class="form-group">
      <label for="exampleFormControlInput1">Subjek</label>
      <input name="subject" type="text" class="form-control" id="exampleFormControlInput1" placeholder="Mau ngobrolin apa?">
    </div>
    <div class="form-group">
      <label for="exampleFormControlSelect1">Topik</label>

      <select name="topik" class="form-control" id="topik-list">
        <option>Literasi umum</option>

        {% for b in books %}
          <option>{{b.nama_buku}}</option>
        {% endfor %}

      </select>
    </div>

    <div class="form-group">
      <label for="exampleFormControlTextarea1">Tuliskan pesan anda</label>
      <textarea name="message"  class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
    </div>

    <p id="post">
        <a class="btn btn-primary btn-lg" href="#" role="button">Post</a>
    </p>
  </form>
</div>
{% else %}
<div id="not-login">
  <a href="{%url 'main:login'%}">
  <button type="button" class="btn btn-info">Login untuk menambahkan topik diskusi</button>
  </a>
</div>
{% endif %}

<div id="posts">

</div>
{{ request.user.username|json_script:"user_username" }}

{% endblock content %}